# 通用配置

::: tip 提示
文中的一些类型来自 <a href="/components/type.html" style="text-decoration: underline;">基础 Ts 类型</a> 章节，建议先阅读。
:::

高级组件中除了布局组件[Layout](/components/layout.html)和多选卡片[CheckCardGroup ](/components/check-card-group.html)之外的组件通用配置。

配置的核心字段是`valueType`，渲染的 key 是`prop`（所以需要保证唯一）。

## columns 配置

TS 类型 `PlusColumn`

| 名称                                                                                         | 说明                                                                                                                                                                                             | 类型                                                                                                                                  | 默认值      | 是否必须 |
| -------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------- | ----------- | -------- |
| `label`                                                                                      | 表格表头显示的标题 ；在 form 中是 el-form-item 的 label；在 descriptions 是 el-descriptions-item 的 label；                                                                                      | `string`                                                                                                                              |             | 是       |
| `prop` （**不可重复**）                                                                      | 表格对应列内容的字段名 ；在 form/search 中是 el-input 等所有表单项的双向绑定的值；在 descriptions 是 el-descriptions-item 的值对应的字段； **支持`x.y.z`形式的多（无限）级数据形式。**           | `string`                                                                                                                              |             | 是       |
| `width`                                                                                      | 表格列宽                                                                                                                                                                                         | `string/number`                                                                                                                       |             | 否       |
| `minWidth`                                                                                   | 表格列最小宽                                                                                                                                                                                     | `string/number`                                                                                                                       |             | 否       |
| `valueType`                                                                                  | 值的类型                                                                                                                                                                                         | `string`([TableValueType](/components/type.html#tablevaluetype) / [FormItemValueType](/components/type.html#formitemvaluetype) )      |             | 否       |
| `editable`                                                                                   | 当值为`true`时，表格中整列显示的是`valueType`取值对应的可编辑的表单，`valueType`取值为 [FormItemValueType](/components/type.html#formitemvaluetype) 默认为 `text`                                | `boolean`                                                                                                                             | `false`     | 否       |
| <el-text tag="del">`headerFilter`</el-text> <el-tag type="danger">deprecated v0.0.3</el-tag> | 表格列设置中禁止表格当前列的表头过滤，已废弃，请使用`disabledHeaderFilter`代替                                                                                                                   | `boolean`                                                                                                                             | `false`     | 否       |
| `disabledHeaderFilter` <el-tag>v0.0.3</el-tag>                                               | 表格列设置中禁止表格当前列的表头过滤                                                                                                                                                             | `boolean`                                                                                                                             | `false`     | 否       |
| `tableColumnProps`                                                                           | 表格 column，支持所有[el-table-column 属性](https://element-plus.org/zh-CN/component/table.html#table-column-%E5%B1%9E%E6%80%A7) （不包含 label,prop,width,minWidth）                            | `object`                                                                                                                              |             | 否       |
| `preview`                                                                                    | 表格列图片预览，仅当 valueType 等于 img 时生效； el-image 图片预览 默认开启 给 false 关闭                                                                                                        | `boolean`                                                                                                                             |             | 否       |
| `linkText`                                                                                   | 表格列 link 文字，valueType 等于 link 时生效；有值时则表格的整列都会显示这个值，默认取得是 prop 对应的表格数据                                                                                   | `string`                                                                                                                              |             | 否       |
| `descriptionsItemProps`                                                                      | 描述行，el-descriptions-item 的 props                                                                                                                                                            | `object`                                                                                                                              |             | 否       |
| `renderDescriptionsItem`<el-tag>v0.0.2</el-tag>                                              | 自定义[PlusDescriptions ](/components/descriptions.html) 单行显示内容，在[PlusDescriptions ](/components/descriptions.html)组件中优先级最高，高于 render,renderHTML                              | `function` <docs-tip content='(data: { value: string; column: PlusColumn; row: RecordType }) => VNode / string'></docs-tip>           |             | 否       |
| `renderDescriptionsLabel`<el-tag>v0.0.2</el-tag>                                             | 自定义[PlusDescriptions ](/components/descriptions.html) 单行 label 显示内容                                                                                                                     | `function` <docs-tip content='(data: { label: string; column: PlusColumn; row: RecordType }) => VNode / string'></docs-tip>           |             | 否       |
| `options`                                                                                    | el-select、el-radio-group、el-checkbox-group、el-cascader 和 PlusRadio 的选项 ，支持数组，computed，函数，和 Promise                                                                             | `array/function/promise`[OptionsType](/components/type.html#optionstype)                                                              |             | 否       |
| `customGetStatus`                                                                            | 自定义 options 的显示逻辑，需要返回一个[OptionsRow](/components/type.html#optionsrow)对象。                                                                                                      | `function` <docs-tip content=' (data: {options: OptionsRow[]; value: string / number;row: RecordType }) => OptionsRow'></docs-tip>    |             | 否       |
| `tooltip`                                                                                    | 展示一个 icon，hover 时展示一些提示信息                                                                                                                                                          | `string` / ( `object` [ElTooltipProps](https://element-plus.org/zh-CN/component/tooltip.html#attributes) )                            |             | 否       |
| `render`                                                                                     | 自定义渲染表格/[PlusDescriptions ](/components/descriptions.html)单行显示内容，`render`的优先级最高，高于`renderHTML` 和 `valueType`                                                             | `function` <docs-tip content='(value: any, data:{ row: object; index: number; column: PlusColumn}) =>  VNode / string '></docs-tip>   |             | 否       |
| `renderHTML`                                                                                 | 自定义渲染表格/[PlusDescriptions ](/components/descriptions.html)单行显示内容 需要返回一个 html 字符串，`renderHTML`的优先级低于`render`，高于 `valueType`。**谨慎使用，确保 HTML 字符串可信。** | `function` <docs-tip content='(value: any, data:{ row: object; index: number; column: PlusColumn}) => string'></docs-tip>             |             | 否       |
| `renderHeader`                                                                               | 自定义渲染表格表头显示内容                                                                                                                                                                       | `function` <docs-tip content='(label: any, data:{ row: object; index: number; column: PlusColumn}) => VNode / string '></docs-tip>    |             | 否       |
| `formProps`                                                                                  | 表格中传递给 PlusForm 的配置，支持所有 PlusForm 的 props，表格编辑状态有效。                                                                                                                     | `object`                                                                                                                              |             | 否       |
| `formItemProps`                                                                              | 传递给 el-form-item 的配置，支持所有 el-form-item 的 props。值支持对象 object，computed，函数和 Promise。                                                                                        | `object/function/promise`[PropsItemType](/components/type.html#propsitemtype)                                                         |             | 否       |
| `fieldProps`                                                                                 | 传递给具体表单项和表格显示的配置，如 el-input，el-select 的 props。 值支持对象 object，computed，函数和 Promise。                                                                                | `object/function/promise` [PropsItemType](/components/type.html#propsitemtype)                                                        |             | 否       |
| `fieldSlots`                                                                                 | 表单（表格）单个项目的插槽，支持类似 el-input，el-select， el-image ，el-link 等所有表单（表格）单项的插槽                                                                                       | `object` <docs-tip content=' { [slotName: string]: (data?: any) => VNode / string }'></docs-tip>                                      |             | 否       |
| `renderField`                                                                                | 自定义渲染 el-form-item 下的 field-item 组件，自定义渲染表单数据双向绑定的核心方法是调用回调函数 `onChange` 把值传给表单                                                                         | `function` <docs-tip content='(value: any, onChange: (value: any) => void, props: PlusColumn) => VNode / string'></docs-tip>          |             | 否       |
| `renderLabel`                                                                                | 自定义渲染 el-form-item 的 label 显示内容                                                                                                                                                        | `function` <docs-tip content='(label: string, data:{ row: object; index: number; column: PlusColumn}) =>  VNode / string'></docs-tip> |             | 否       |
| `hasLabel`                                                                                   | 表单中单个项目是否需要 label，默认 undefined，优先级高于表单的整体的 hasLabel                                                                                                                    | `boolean` <docs-tip content='boolean / Ref<boolean> / ComputedRef<boolean>'></docs-tip>                                               | `undefined` | 否       |
| `renderExtra`                                                                                | 自定义渲染 el-form-item 下一行额外的内容                                                                                                                                                         | `function` <docs-tip content='( column: PlusColumn) =>  VNode / string'></docs-tip>                                                   |             | 否       |
| `colProps`                                                                                   | el-col 的 props                                                                                                                                                                                  | `object` [ColProps](https://element-plus.org/zh-CN/component/layout.html#col-attributes)                                              |             | 否       |
| `hideInDescriptions`                                                                         | 在 PlusDescriptions 组件中 隐藏                                                                                                                                                                  | `boolean` <docs-tip content='boolean / Ref<boolean> / ComputedRef<boolean>'></docs-tip>                                               | `false`     | 否       |
| `hideInForm`                                                                                 | 在 PlusForm 组件中 隐藏                                                                                                                                                                          | `boolean` <docs-tip content='boolean / Ref<boolean> / ComputedRef<boolean>'></docs-tip>                                               | `false`     | 否       |
| `hideInTable`                                                                                | 在 PlusTable 组件中 隐藏                                                                                                                                                                         | `boolean` <docs-tip content='boolean / Ref<boolean> / ComputedRef<boolean>'></docs-tip>                                               | `false`     | 否       |
| `hideInSearch`                                                                               | 在 PlusSearch 组件中 隐藏                                                                                                                                                                        | `boolean` <docs-tip content='boolean / Ref<boolean> / ComputedRef<boolean>'></docs-tip>                                               | `false`     | 否       |

## valueType 可选的表单值

| valueType 表单值   | 对应 element-plus 的表单组件                                                             | 对应 plus-pro-components 的组件                  | 对应的表格显示                          |
| ------------------ | ---------------------------------------------------------------------------------------- | ------------------------------------------------ | --------------------------------------- |
| `autocomplete`     | [el-autocomplete](https://element-plus.org/zh-CN/component/autocomplete.html)            |                                                  | 文本显示                                |
| `cascader`         | [el-cascader](https://element-plus.org/zh-CN/component/cascader.html)                    |                                                  | 文本显示                                |
| `checkbox`         | [el-checkbox-group,el-checkbox ](https://element-plus.org/zh-CN/component/checkbox.html) |                                                  | 显示值对应`options`的 `label`           |
| `color-picker`     | [el-color-picker](https://element-plus.org/zh-CN/component/color-picker.html)            |                                                  | 文本显示                                |
| `date-picker`      | [el-date-picker](https://element-plus.org/zh-CN/component/date-picker.html)              |                                                  | 文本显示 格式化成` YYYY-MM-DD HH:mm:ss` |
| `input-number`     | [el-input-number](https://element-plus.org/zh-CN/component/input-number.html)            |                                                  | 文本显示                                |
| `radio`            | [el-radio-radio,el-radio](https://element-plus.org/zh-CN/component/radio.html)           |                                                  | 显示值对应`options`的 `label`           |
| `rate`             | [el-rate](https://element-plus.org/zh-CN/component/rate.html)                            |                                                  | 文本显示                                |
| `select`           | [el-select](https://element-plus.org/zh-CN/component/select.html)                        |                                                  | 显示值对应`options`的 `label`           |
| `slider`           | [el-slider](https://element-plus.org/zh-CN/component/slider.html)                        |                                                  | 文本显示                                |
| `switch`           | [el-switch](https://element-plus.org/zh-CN/component/switch.html)                        |                                                  | 文本显示                                |
| `time-picker`      | [el-time-picker](https://element-plus.org/zh-CN/component/time-picker.html)              |                                                  | 文本显示                                |
| `time-select`      | [el-time-select](https://element-plus.org/zh-CN/component/time-select.html)              |                                                  | 文本显示                                |
| `textarea`         | [el-input ](https://element-plus.org/zh-CN/component/input.html#文本域) (type=textarea)  |                                                  | 文本显示                                |
| `input`            | [el-input](https://element-plus.org/zh-CN/component/input.html) 表单默认值               |                                                  | 文本显示                                |
| `text`             | [el-text ](https://element-plus.org/zh-CN/component/text.html)                           |                                                  | 文本显示                                |
| `plus-radio`       |                                                                                          | [ plus-radio](/components/radio.html)            | 显示值对应`options`的 `label`           |
| `plus-date-picker` |                                                                                          | [plus-date-picker](/components/date-picker.html) | 文本显示                                |
| `plus-input-tag`   |                                                                                          | [plus-input-tag](/components/input-tag.html)     | 文本显示                                |

## valueType 可选的显示值

| valueType 表单值 | 对应 element-plus/原生 的显示组件                                 | 说明                                                   | 对应的编辑状态组件                                               |
| ---------------- | ----------------------------------------------------------------- | ------------------------------------------------------ | ---------------------------------------------------------------- |
| `undefined`      | `span`                                                            | 显示默认值，显示文本                                   | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `img`            | [el-image](https://element-plus.org/zh-CN/component/image.html)   | 显示图片，自带预览，可使用配置项`preview`禁止          | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `link`           | [el-link](https://element-plus.org/zh-CN/component/link.html)     | 显示 el-link ，配合配置项`fieldProps`和`linkText` 使用 | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `money`          | `span`                                                            | 显示金钱                                               | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `tag`            | [el-tag](https://element-plus.org/zh-CN/component/tag.html)       | 显示 el-tag，配合配置项`fieldProps` 使用               | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `progress`       | [el-link](https://element-plus.org/zh-CN/component/progress.html) | 显示 el-progress，配合配置项`fieldProps` 使用          | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `copy`           | `span`                                                            | 文本后面有可以复制按钮                                 | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `code`           | `span`                                                            | 显示代码                                               | [el-input ](https://element-plus.org/zh-CN/component/input.html) |
| `text`           | `span`                                                            | 显示文本                                               | [el-text ](https://element-plus.org/zh-CN/component/text.html)   |
